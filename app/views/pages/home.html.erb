 <div class="banner">

<div class="content">
  <h1>Artichot</h1>
  <h2><%= t('.moto')%></h2>
    <%= render "shared/search" %>
    <button type="submit" id="see-more" class="btn btn-default see-more"><%= t('.how')%></button>
    <div class="how-it-works hidden">
      <div class="image-schema">
        <%= image_tag("how_it_works.png",  class: "img-responsive")%>
      </div>
    </div>
  </div>
</div>
<% content_for(:after_js) do %>
  <!-- Include Google Maps JS API -->

  <script type="text/javascript">
  function initializeAutocomplete(id) {
    var element = document.getElementById(id);
    if (element) {
      var autocomplete = new google.maps.places.Autocomplete(element, { types: ['geocode'] });
      console.log(element)
      google.maps.event.addListener(autocomplete, 'place_changed', onPlaceChanged);
    }
  }
  function onPlaceChanged() {
    var place = this.getPlace();
      console.log(place);  // Uncomment this line to view the full object returned by Google API.
      for (var i in place.address_components) {
        var component = place.address_components[i];
        for (var j in component.types) {  // Some types are ["country", "political"]
          var type_element = document.getElementById(component.types[j]);
        if (type_element) {
          type_element.value = component.long_name;
        }
      }
    }
  }
  google.maps.event.addDomListener(window, 'load', function() {
    console.log('doing something');
    initializeAutocomplete('user_input_autocomplete_address');
  });
  $('#see-more').on('click', function() {
    $('.how-it-works').removeClass('hidden');
  });
  </script>
  <%end%>